import { cookies } from 'next/headers';

export const dictionaries = {
    'en': {
        common: {
            none: 'None',
            unassigned: 'Unassigned',
            back: 'Back',
            save: 'Save',
            cancel: 'Cancel',
            delete: 'Delete',
            edit: 'Edit',
            create: 'Create',
            add: 'Add',
            loading: 'Loading...',
            search: 'Search...',
            days: 'days',
            never: 'Never',
            active: 'Active',
            atRisk: 'At Risk',
            dormant: 'Dormant',
            finished: 'Finished',
            onHold: 'On hold',
            inPipeline: 'In pipeline',
            inDevelopment: 'In development',
            notStarted: 'Not started',
            notInterested: 'Not interested',
            cancelled: 'Cancelled',
            more: 'More',
            clear: 'Clear',
            call: 'Call',
            email: 'Email',
            meeting: 'Meeting',
            daysAgo: 'days ago',
            healthStatus: 'Health Status',
            integrationStatus: 'Integration Status',
            keyPerson: 'Key Person',
            vertical: 'Vertical',
            useCase: 'Use Case',
        },
        sidebar: {
            dashboard: 'Dashboard',
            directory: 'Partners',
            pipeline: 'Pipeline',
            reminders: 'Reminders',
            analytics: 'Analytics',
            settings: 'Settings',
            merchants: 'Merchants',
            signOut: 'Sign Out'
        },
        dashboard: {
            title: 'Dashboard',
            subtitle: 'Overview of your partner ecosystem.',
            totalPartners: 'Total Partners',
            activeCollaborations: 'Active Collaborations',
            needsAttention: 'Needs Attention',
            nextAppointments: 'Next Appointments',
            noUpcoming: 'No upcoming appointments.',
            lastInteractions: 'Last Interactions',
            noRecent: 'No recent interactions.',
            partnersNeeding: 'Partners Needing Attention',
            pending: 'pending',
            allCaughtUp: 'All caught up!',
            noPartnersRequire: 'No partners currently require immediate attention.',
            lastInteraction: 'Last interaction:',
            daysAgo: 'days ago',
            threshold: 'Threshold:',
            days: 'days',
            never: 'Never',
        },
        directory: {
            title: 'Partner Directory',
            subtitle: 'Browse and manage all your partnerships.',
            addPartner: 'Add Partner',
            searchPlaceholder: 'Search partners by name...',
            allStatuses: 'All Statuses',
            allTags: 'All Tags',
            allVerticals: 'All Verticals',
            allProducts: 'All Products',
            allTeamMembers: 'All Team Members',
            partnerCount: 'partners found',
            noPartnersFound: 'No partners found',
            noPartnersSubtitle: 'Adjust your search or add a new partner.',
            import: 'Import',
            export: 'Export',
            template: 'Template',
            lastInteraction: 'Last Interaction',
            integrations: 'Integrations',
            manageData: 'Manage Data',
            companyName: 'Company Name',
            companyPlaceholder: 'e.g., Acme Corp',
            logoUrl: 'Logo URL',
            attentionThreshold: 'Attention Threshold (days)',
            attentionThresholdHelp: 'Number of days without interaction before this partner is flagged.',
            newPartner: 'New Partner',
        },
        partnerDetail: {
            backToDirectory: 'Back to Partners',
            interactionLog: 'Interaction Log',
            noInteractions: 'No interactions logged yet.',
            keyInfo: 'Key Info',
            keyPerson: 'Key Person',
            attentionThreshold: 'Attention Threshold',
            partnerSince: 'Partner Since',
            vertical: 'Vertical',
            useCase: 'Use Case',
            integrations: 'Integrations',
            contacts: 'Contacts',
            addContact: 'Add Contact',
            reminders: 'Reminders',
            addReminder: 'Add Reminder',
            logActivity: 'Log Activity',
            editPartner: 'Edit Partner',
            customReminders: 'Custom Reminders',
            reminderPlaceholder: 'e.g., Follow up on proposal',
            reminderTitle: 'Reminder title',
            dueDate: 'Due date',
            interactionPlaceholder: 'Write notes about this interaction...',
            interactionDate: 'Interaction date',
            attachFile: 'Attach file',
            attach: 'Attach',
            logAction: 'Log',
            contactName: 'Contact name',
            contactEmail: 'Contact email',
            contactRole: 'Contact role',
            keyContacts: 'Key Contacts',
            noContacts: 'No contacts added yet.',
            editInteraction: 'Edit Interaction',
            done: 'Done',
            history: 'History',
            noPendingReminders: 'No pending reminders.',
        },
        merchants: {
            title: 'Merchants',
            subtitle: 'Browse and manage all your merchant partnerships.',
            addMerchant: 'Add Merchant',
            searchPlaceholder: 'Search merchants by name...',
            noMerchantsFound: 'No merchants found',
            noMerchantsSubtitle: 'Adjust your search or add a new merchant.',
            merchantCount: 'merchants found',
            backToMerchants: 'Back to Merchants',
        },
        pipeline: {
            title: 'Pipeline',
            subtitle: 'Manage integration and partnership lifecycles.',
            noPartners: 'No partners in this stage.',
            filterPlaceholder: 'Filter by partner...',
        },
        reminders: {
            title: 'Reminders',
            subtitle: 'Personal and team follow-ups.',
            personalReminders: 'Personal Reminders',
            teamReminders: 'Shared Team Reminders',
            noPersonalReminders: 'No personal reminders.',
            noTeamReminders: 'No shared team reminders.',
            allCaughtUp: "You're all caught up!",
            activeReminders: 'Active Reminders',
            overdue: 'Overdue',
            upcoming: 'upcoming',
            dismiss: 'Dismiss',
            standardFollowUp: 'Standard Follow-up',
            lastInteractionOrDismissal: 'Last interaction or dismissal:',
            goalDate: 'Goal Date:',
            allTeamMembers: 'All Team Members',
        },
        analytics: {
            title: 'Analytics & Reporting',
            subtitle: 'Deep-dive into ecosystem metrics and engagement.',
            totalPartners: 'Total Partners',
            activeStatus: 'Active Status',
            totalInteractions: 'Total Interactions',
            thirtyDayEngaged: '30-Day Engaged',
            pipelineEngagement: 'Pipeline & Engagement Metrics',
            last7Days: 'Last 7 Days',
            last14Days: 'Last 14 Days',
            last30Days: 'Last 30 Days',
            last90Days: 'Last 90 Days',
            allPartners: 'All Partners',
            allVerticals: 'All Verticals / Tenant Domains',
            integrationStatus: 'Integration Status',
            engagementVelocity: 'Engagement Velocity',
            integrationsByVertical: 'Integrations by Vertical',
            integrationsByProduct: 'Integrations by Product',
            partnerDistribution: 'Partner Distribution',
            partnersAssigned: 'Partners Assigned',
            uncategorized: 'Uncategorized',
        },
        settings: {
            title: 'Settings',
            subtitle: 'Manage global configurations for your PRM.',
            globalSettings: 'Global Settings',
            userManagement: 'User Management',
            dangerZone: 'Danger Zone',
            availableProducts: 'Available Products (Comma separated)',
            productsHelp: 'These products can be selected when editing a partner\'s integration status.',
            teamMembers: 'Team Members (Comma separated)',
            teamHelp: 'Used for selecting the Key Person on an account.',
            verticals: 'Verticals (Comma separated)',
            verticalsHelp: 'Used for selecting the Vertical on an account.',
            useCases: 'Use Cases (Comma separated)',
            useCasesHelp: 'Used for selecting the Use Case on an account.',
            saveSettings: 'Save Settings',
            saving: 'Saving...',
            saved: 'Saved!',
            manageTeam: 'Manage team members and link them to partners',
            addNewMember: 'Add New Team Member',
            fullName: 'Full Name',
            usernameEmail: 'Username / Email',
            linkKeyPerson: 'Link Key Person',
            role: 'Role',
            password: 'Password',
            createUser: 'Create User',
            deleteUserConfirm: 'Are you sure you want to delete this user?',
            workgroups: 'Workgroups',
            workgroupsManage: 'Create groups for shared reminders and permissions',
            groupNamePlaceholder: 'e.g., Music Team, Account Managers',
            createGroup: 'Create Group',
            deleteGroupConfirm: 'Delete group?',
            noWorkgroups: 'No workgroups created yet.',
            deletePartnersData: 'Delete Partners & Data',
            deletePartnersHelp: 'Permanently wipe partners, interactions, contacts, and custom reminders. This is a destructive action—ensure you have backups if needed.',
            manageDeletions: 'Manage Deletions',
            deletePartnersTitle: 'Delete Partners',
            deletePartnersSubtitle: 'Select one or more records to permanently remove',
            findPartners: 'Find partners...',
            deleteSelected: 'Delete {count} Selective',
            selectAllFiltered: 'Select All Filtered',
            deselectAll: 'Deselect All',
            selectedCount: '{count} Selected',
            noPartnersMatch: 'No partners match your search',
            tryDifferent: 'Try a different name or clear the search.',
            confirmBulkDelete: 'Confirm Bulk Delete',
            cautionBulkDelete: 'Caution: Deleting {count} partners will remove all histories.',
            deletePartnerConfirm: 'Are you sure you want to delete {name}? This action cannot be undone.',
            bulkDeleteConfirm: 'Are you sure you want to delete {count} partners and all their data? This action is permanent and cannot be undone.',
        }
    },
    'pt-PT': {
        common: {
            none: 'Nenhum',
            unassigned: 'Não Atribuído',
            back: 'Voltar',
            save: 'Guardar',
            cancel: 'Cancelar',
            delete: 'Eliminar',
            edit: 'Editar',
            create: 'Criar',
            add: 'Adicionar',
            loading: 'A carregar...',
            search: 'Procurar...',
            days: 'dias',
            never: 'Nunca',
            active: 'Ativo',
            atRisk: 'Em Risco',
            dormant: 'Inativo',
            finished: 'Concluído',
            onHold: 'Em espera',
            inPipeline: 'Em pipeline',
            inDevelopment: 'Em desenvolvimento',
            notStarted: 'Não iniciado',
            notInterested: 'Sem interesse',
            cancelled: 'Cancelado',
            more: 'Mais',
            clear: 'Limpar',
            call: 'Chamada',
            email: 'Email',
            meeting: 'Reunião',
            daysAgo: 'dias atrás',
            healthStatus: 'Estado de Saúde',
            integrationStatus: 'Estado de Integração',
            keyPerson: 'Pessoa-Chave',
            vertical: 'Vertical',
            useCase: 'Caso de Uso',
        },
        sidebar: {
            dashboard: 'Dashboard',
            directory: 'Parceiros',
            pipeline: 'Pipeline',
            reminders: 'Lembretes',
            analytics: 'Análises',
            settings: 'Definições',
            merchants: 'Comerciantes',
            signOut: 'Terminar Sessão'
        },
        dashboard: {
            title: 'Dashboard',
            subtitle: 'Visão geral do ecossistema de parceiros.',
            totalPartners: 'Total de Parceiros',
            activeCollaborations: 'Parceiros Ativos',
            needsAttention: 'Necessita Atenção',
            nextAppointments: 'Próximas Reuniões',
            noUpcoming: 'Sem reuniões agendadas.',
            lastInteractions: 'Últimas Interações',
            noRecent: 'Sem interações recentes.',
            partnersNeeding: 'Parceiros a Necessitar de Atenção',
            pending: 'pendentes',
            allCaughtUp: 'Tudo em dia!',
            noPartnersRequire: 'Nenhum parceiro requer atenção imediata.',
            lastInteraction: 'Última interação:',
            daysAgo: 'dias atrás',
            threshold: 'Limite:',
            days: 'dias',
            never: 'Nunca',
        },
        directory: {
            title: 'Diretório de Parceiros',
            subtitle: 'Navegue e gira todas as suas parcerias.',
            addPartner: 'Adicionar Parceiro',
            searchPlaceholder: 'Procurar parceiros por nome...',
            allStatuses: 'Todos os Estados',
            allTags: 'Todas as Etiquetas',
            allVerticals: 'Todas as Verticais',
            allProducts: 'Todos os Produtos',
            allTeamMembers: 'Todos os Gestores',
            partnerCount: 'parceiros encontrados',
            noPartnersFound: 'Nenhum parceiro encontrado',
            noPartnersSubtitle: 'Ajuste a sua pesquisa ou adicione um novo parceiro.',
            import: 'Importar',
            export: 'Exportar',
            template: 'Template',
            lastInteraction: 'Última Interação',
            integrations: 'Integrações',
            manageData: 'Gerir Dados',
            companyName: 'Nome da Empresa',
            companyPlaceholder: 'ex: Acme Corp',
            logoUrl: 'URL do Logótipo',
            attentionThreshold: 'Limite de Atenção (dias)',
            attentionThresholdHelp: 'Número de dias sem interação antes do parceiro ser sinalizado.',
            newPartner: 'Novo Parceiro',
        },
        partnerDetail: {
            backToDirectory: 'Voltar a Parceiros',
            interactionLog: 'Log de Interações',
            noInteractions: 'Sem interações registadas.',
            keyInfo: 'Informação Chave',
            keyPerson: 'Gestor Responsável',
            attentionThreshold: 'Limite de Atenção',
            partnerSince: 'Parceiro Desde',
            vertical: 'Vertical',
            useCase: 'Caso de Uso',
            integrations: 'Integrações',
            contacts: 'Contactos',
            addContact: 'Adicionar Contacto',
            reminders: 'Lembretes',
            addReminder: 'Adicionar Lembrete',
            logActivity: 'Registar Atividade',
            editPartner: 'Editar Parceiro',
            customReminders: 'Lembretes Personalizados',
            reminderPlaceholder: 'ex: Acompanhar proposta',
            reminderTitle: 'Título do lembrete',
            dueDate: 'Data limite',
            interactionPlaceholder: 'Escreva notas sobre esta interação...',
            interactionDate: 'Data da interação',
            attachFile: 'Anexar ficheiro',
            attach: 'Anexar',
            logAction: 'Registar',
            contactName: 'Nome do contacto',
            contactEmail: 'Email do contacto',
            contactRole: 'Função do contacto',
            keyContacts: 'Contactos Chave',
            noContacts: 'Sem contactos adicionados.',
            editInteraction: 'Editar Interação',
            done: 'Concluído',
            history: 'Histórico',
            noPendingReminders: 'Sem lembretes pendentes.',
        },
        merchants: {
            title: 'Comerciantes',
            subtitle: 'Navegue e gira todas as suas parcerias com comerciantes.',
            addMerchant: 'Adicionar Comerciante',
            searchPlaceholder: 'Procurar comerciantes por nome...',
            noMerchantsFound: 'Nenhum comerciante encontrado',
            noMerchantsSubtitle: 'Ajuste a sua pesquisa ou adicione um novo comerciante.',
            merchantCount: 'comerciantes encontrados',
            backToMerchants: 'Voltar a Comerciantes',
        },
        pipeline: {
            title: 'Pipeline',
            subtitle: 'Gira os ciclos de vida de integrações e parcerias.',
            noPartners: 'Sem parceiros nesta fase.',
            filterPlaceholder: 'Filtrar por parceiro...',
        },
        reminders: {
            title: 'Lembretes',
            subtitle: 'Acompanhamento pessoal e de equipa.',
            personalReminders: 'Lembretes Pessoais',
            teamReminders: 'Lembretes de Equipa (Partilhados)',
            noPersonalReminders: 'Sem lembretes pessoais.',
            noTeamReminders: 'Sem lembretes de equipa.',
            allCaughtUp: 'Está tudo em dia!',
            activeReminders: 'Lembretes Ativos',
            overdue: 'Em Atraso',
            upcoming: 'Próximos',
            dismiss: 'Ignorar',
            standardFollowUp: 'Acompanhamento Padrão',
            lastInteractionOrDismissal: 'Última interação ou aviso:',
            goalDate: 'Data Objetivo:',
            allTeamMembers: 'Todos os Gestores',
        },
        analytics: {
            title: 'Analytics e Relatórios',
            subtitle: 'Análise profunda de métricas e engagement.',
            totalPartners: 'Total de Parceiros',
            activeStatus: 'Estado Ativo',
            totalInteractions: 'Total de Interações',
            thirtyDayEngaged: 'Envolvidos (30 dias)',
            pipelineEngagement: 'Métricas de Pipeline e Engagement',
            last7Days: 'Últimos 7 dias',
            last14Days: 'Últimos 14 dias',
            last30Days: 'Últimos 30 dias',
            last90Days: 'Últimos 90 dias',
            allPartners: 'Todos os Parceiros',
            allVerticals: 'Verticais / Dominios de Tenants',
            integrationStatus: 'Estado de Integração',
            engagementVelocity: 'Velocidade de Engagement',
            integrationsByVertical: 'Integrações por Vertical',
            integrationsByProduct: 'Integrações por Produto',
            partnerDistribution: 'Distribuição de Parceiros',
            partnersAssigned: 'Parceiros Atribuídos',
            uncategorized: 'Sem Categoria',
        },
        settings: {
            title: 'Definições',
            subtitle: 'Gira as configurações globais do PRM.',
            globalSettings: 'Definições Globais',
            userManagement: 'Gestão de Utilizadores',
            dangerZone: 'Zona de Perigo',
            availableProducts: 'Produtos Disponíveis (Separados por vírgula)',
            productsHelp: 'Estes produtos podem ser selecionados ao editar o estado de integração de um parceiro.',
            teamMembers: 'Membros da Equipa (Separados por vírgula)',
            teamHelp: 'Usado para selecionar a Pessoa-Chave numa conta.',
            verticals: 'Verticais (Separados por vírgula)',
            verticalsHelp: 'Usado para selecionar a Vertical numa conta.',
            useCases: 'Casos de Uso (Separados por vírgula)',
            useCasesHelp: 'Usado para selecionar o Caso de Uso numa conta.',
            saveSettings: 'Guardar Definições',
            saving: 'A guardar...',
            saved: 'Guardado!',
            manageTeam: 'Gira os membros da equipa e associe-os a parceiros',
            addNewMember: 'Adicionar Novo Membro',
            fullName: 'Nome Completo',
            usernameEmail: 'Utilizador / Email',
            linkKeyPerson: 'Associar Pessoa-Chave',
            role: 'Função',
            password: 'Palavra-passe',
            createUser: 'Criar Utilizador',
            deleteUserConfirm: 'Tem a certeza que deseja eliminar este utilizador?',
            workgroups: 'Workgroups',
            workgroupsManage: 'Crie grupos para lembretes partilhados e permissões',
            groupNamePlaceholder: 'ex: Equipa Música, Gestores de Conta',
            createGroup: 'Criar Grupo',
            deleteGroupConfirm: 'Eliminar grupo?',
            noWorkgroups: 'Nenhum workgroup criado ainda.',
            deletePartnersData: 'Eliminar Parceiros e Dados',
            deletePartnersHelp: 'Limpe permanentemente parceiros, interações, contactos e lembretes personalizados. Esta é uma ação destrutiva—certifique-se de ter cópias de segurança.',
            manageDeletions: 'Gerir Eliminações',
            deletePartnersTitle: 'Eliminar Parceiros',
            deletePartnersSubtitle: 'Selecione um ou mais registos para remover permanentemente',
            findPartners: 'Procurar parceiros...',
            deleteSelected: 'Eliminar {count} Selecionados',
            selectAllFiltered: 'Selecionar Todos os Filtrados',
            deselectAll: 'Desmarcar Todos',
            selectedCount: '{count} Selecionados',
            noPartnersMatch: 'Nenhum parceiro corresponde à sua pesquisa',
            tryDifferent: 'Tente um nome diferente ou limpe a pesquisa.',
            confirmBulkDelete: 'Confirmar Eliminação em Massa',
            cautionBulkDelete: 'Atenção: Eliminar {count} parceiros removerá todo o histórico.',
            deletePartnerConfirm: 'Tem a certeza que deseja eliminar {name}? Esta ação não pode ser revertida.',
            bulkDeleteConfirm: 'Tem a certeza que deseja eliminar {count} parceiros e todos os seus dados? Esta ação é permanente e não pode ser revertida.',
        }
    }
};

export type Locale = 'en' | 'pt-PT';
export type Dictionary = typeof dictionaries['en'];

export async function getLocale(): Promise<Locale> {
    const cookieStore = await cookies();
    const loc = cookieStore.get('lang')?.value;
    return loc === 'pt-PT' ? 'pt-PT' : 'en';
}

export async function getDict(): Promise<Dictionary> {
    const locale = await getLocale();
    return dictionaries[locale];
}
